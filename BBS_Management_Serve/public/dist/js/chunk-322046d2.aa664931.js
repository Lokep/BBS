(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-322046d2"],{"1fed":function(t,i,e){"use strict";i["a"]={methods:{goTop:function(){var t=setInterval(function(){var i=document.documentElement.scrollTop||document.body.scrollTop,e=Math.floor(-i);document.documentElement.scrollTop=document.body.scrollTop=i+e,0===i&&clearInterval(t)},30)}}}},7642:function(t,i,e){},"83e7":function(t,i,e){},"9ff8":function(t,i,e){"use strict";var a=e("83e7"),s=e.n(a);s.a},a61d:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAIAAAC0D9CtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3YmM0Nzc4MC0zYWQ5LTQyOTQtOWFiNy1jMjQ3MWQyYzc0MDIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUY4OEIxQjM3MDE1MTFFOThGOEJBMTM2MThFOERGMDciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RUY2NEZEMTk3MDE1MTFFOThGOEJBMTM2MThFOERGMDciIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5N2ZjNTFhYy1kYTNiLTQ3MjMtOGUxZS1mMDQ5Y2Q0OWY2OTMiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmNTkwYjk0Ny02ZjZlLWY5NDYtYWFiZS0wNWM0MDViMTE1MjEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6LqFzHAAABWElEQVR42pSSTyjDYRjHP2b8ZtOwDLVWwy5ukgNpOXAajspJuTs6uO+0m5LSpBy44KDkQJTCZe2ApqapiawQ+2ON/eH1e2cy0drve3h7ep4+7/O+z/dBlNH5oli2i51xkc+UpnWUkd/D6BZvz4TXS9NlmVSUlh7MDj5ylTG5FIpZBmofpaky5mYfk00GmRiGX4z+fyAZ4XCaIV+hTwzF8pcR3B0TDyPyZJPcB7g9oN+Dw13ss+kqvshoZcBbpc6O3UliIazdBJfonaWhk44xjK3FazNxeemXHk/Zm0IOfL5W5NIymEOUV/xKrDgLHd+z6OuoROkHDM06NEn9QqNTIxM9oa1PC5N/JbJN+4gWJuDFNqiuUsEfSxdHM9hcP+WnC2mLujI1JpQGMgmCPkJrTPjVYsGf5DVnC8QvqVZwb0hGNSq0SvaFbEKeegP2Yelyve2b0ahPAQYAbdLE5hL/14UAAAAASUVORK5CYII="},a6e3:function(t,i,e){t.exports=e.p+"img/user-head-img.4993fb9f.png"},aa77:function(t,i,e){var a=e("5ca1"),s=e("be13"),n=e("79e5"),o=e("fdef"),c="["+o+"]",r="​",l=RegExp("^"+c+c+"*"),m=RegExp(c+c+"*$"),u=function(t,i,e){var s={},c=n(function(){return!!o[t]()||r[t]()!=r}),l=s[t]=c?i(d):o[t];e&&(s[e]=l),a(a.P+a.F*c,"String",s)},d=u.trim=function(t,i){return t=String(s(t)),1&i&&(t=t.replace(l,"")),2&i&&(t=t.replace(m,"")),t};t.exports=u},c5f6:function(t,i,e){"use strict";var a=e("7726"),s=e("69a8"),n=e("2d95"),o=e("5dbc"),c=e("6a99"),r=e("79e5"),l=e("9093").f,m=e("11e9").f,u=e("86cc").f,d=e("aa77").trim,p="Number",f=a[p],h=f,v=f.prototype,g=n(e("2aeb")(v))==p,C="trim"in String.prototype,y=function(t){var i=c(t,!1);if("string"==typeof i&&i.length>2){i=C?i.trim():d(i,3);var e,a,s,n=i.charCodeAt(0);if(43===n||45===n){if(e=i.charCodeAt(2),88===e||120===e)return NaN}else if(48===n){switch(i.charCodeAt(1)){case 66:case 98:a=2,s=49;break;case 79:case 111:a=8,s=55;break;default:return+i}for(var o,r=i.slice(2),l=0,m=r.length;l<m;l++)if(o=r.charCodeAt(l),o<48||o>s)return NaN;return parseInt(r,a)}}return+i};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var i=arguments.length<1?0:t,e=this;return e instanceof f&&(g?r(function(){v.valueOf.call(e)}):n(e)!=p)?o(new h(y(i)),e,f):y(i)};for(var A,I=e("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;I.length>b;b++)s(h,A=I[b])&&!s(f,A)&&u(f,A,m(h,A));f.prototype=v,v.constructor=f,e("2aba")(a,p,f)}},d13c:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"content container-fluid"},[a("div",{staticClass:"bread"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[t._v("首页")]),a("el-breadcrumb-item",[t._v(t._s(t.secondBread))]),a("el-breadcrumb-item",{staticClass:"bread-title"},[t._v(t._s(t.articleInfo.title))])],1)],1),a("div",{staticClass:"article"},[a("h3",{staticClass:"article-title tc"},[t._v(t._s(t.articleInfo.title))]),a("div",{staticClass:"article-wrapper tc"},[a("span",{staticClass:"article-info icon-news"},[t._v(t._s(t.articleType))]),a("span",{staticClass:"article-info icon-author"},[t._v(t._s(t.articleInfo.authorname)+" 发表于 "+t._s(t.$formatDate(t.articleInfo.publishtime,"yyyy-MM-dd hh:mm:ss")))]),a("span",{staticClass:"article-info icon-watch"},[t._v("阅读数 "+t._s(t.viewCount))]),a("span",{staticClass:"article-info icon-comment"},[t._v("评论数 "+t._s(t.commentCount))])]),a("div",{staticClass:"article-content",domProps:{innerHTML:t._s(t.articleInfo.content)}})]),a("div",{staticClass:"tag-wrapper"},[a("ul",t._l(t.tagList,function(i,e){return a("li",{on:{click:function(e){return t.toTagList(i.tagId)}}},[t._v(t._s(i.tagValue))])}),0)]),a("div",{staticClass:"related part"},[a("div",{staticClass:"related-links-list fl"},[a("h4",{staticClass:"part-title"},[t._v("相关阅读")]),t._l(t.recommendLeftList,function(i){return a("a",{staticClass:"related-link textEllipsis cursor",on:{click:function(e){return t.toRelatedArticle(i.id)}}},[t._v(t._s(i.title))])})],2),a("div",{staticClass:"related-links-img fl"},t._l(t.recommendRightList,function(i){return a("a",{staticClass:"related-link textEllipsis tc cursor",on:{click:function(e){return t.toRelatedArticle(i.id)}}},[a("img",{staticClass:"related-img",attrs:{src:t.$IMG_URL+i.imgurl,alt:""}}),a("p",{staticClass:"textEllipsis"},[t._v(t._s(i.title))])])}),0)]),a("div",{staticClass:"comment part"},[a("h4",{staticClass:"part-title"},[t._v("评论（"+t._s(t.commentCount)+"条）")]),a("div",{staticClass:"comment-box relative"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"comment-content",attrs:{readonly:!t.checkLoginState()},domProps:{value:t.comment},on:{input:function(i){i.target.composing||(t.comment=i.target.value)}}}),t.checkLoginState()?t._e():a("div",{staticClass:"comment-login ov"},[a("span",{staticClass:"fl"},[t._v("期待你的神评")]),a("router-link",{staticClass:"fl cursor",attrs:{to:"/login?redirect="+t.$route.fullPath}},[t._v("请先登录")])],1)]),a("input",{staticClass:"comment-reply cursor",attrs:{type:"button",value:"发表回复"},on:{click:t.publishReply}})]),a("div",{staticClass:"lists part"},t._l(t.commentList,function(i,s){return a("div",{key:s,staticClass:"list"},[a("div",[a("div",{staticClass:"list-content ov"},[a("img",{staticClass:"fl list-img",attrs:{src:e("a6e3"),alt:""}}),a("div",{staticClass:"fl"},[a("div",{staticClass:"ov"},[a("span",{staticClass:"fl list-name"},[t._v(t._s(i.userid))]),a("span",{staticClass:"fl list-date"},[t._v("发表于 "+t._s(t.$formatDate(i.utime,"yyyy-MM-dd hh:mm")))])]),a("div",{staticClass:"list-detail"},[t._v(t._s(i.comment))])])]),a("div",{staticClass:"list-agrees ov"},[a("div",{staticClass:"fr ov"},[a("div",{staticClass:"list-agree-btn fl",on:{click:function(e){return t.agreeComment(i)}}},[t.isup?a("img",{attrs:{src:e("d991"),alt:""}}):a("img",{attrs:{src:e("a61d"),alt:""}}),a("span",[t._v("("+t._s(i.upcount)+")")])]),a("div",{staticClass:"list-reply-btn fl",on:{click:function(i){return t.reply(s)}}},[t._v("回复")])])])]),i.replyList?a("div",t._l(i.replyList,function(i,n){return a("div",{staticClass:"list-child",class:{"list-child-all":t.showAll}},[a("div",[a("div",{staticClass:"list-content ov"},[a("img",{staticClass:"fl list-img",attrs:{src:e("a6e3"),alt:""}}),a("div",{staticClass:"fl"},[a("div",{staticClass:"ov"},[a("span",{staticClass:"fl list-name"},[t._v(t._s(i.userid))]),a("span",{staticClass:"fl list-date"},[t._v("发表于 "+t._s(t.$formatDate(i.utime,"yyyy-MM-dd hh:mm")))])]),a("div",{staticClass:"list-detail"},[t._v(t._s(i.reply))])])]),a("div",{staticClass:"list-agrees ov"},[a("div",{staticClass:"fr ov"},[a("div",{staticClass:"list-agree-btn fl",on:{click:function(e){return t.agreeReply(i)}}},[t.isup?a("img",{attrs:{src:e("d991"),alt:""}}):a("img",{attrs:{src:e("a61d"),alt:""}}),a("span",[t._v("("+t._s(i.upcount)+")")])]),a("div",{staticClass:"list-reply-btn fl",on:{click:function(i){return t.reply(s)}}},[t._v("回复")])])])])])}),0):t._e(),i.replyList.length>1&&!t.showAll?a("div",{staticClass:"list-check-more cursor",on:{click:function(i){t.showAll=!0}}},[t._v("\n        查看更多回复\n      ")]):t._e(),t.idx===s?a("div",{staticClass:"reply-textarea"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.replyContent,expression:"replyContent"}],domProps:{value:t.replyContent},on:{input:function(i){i.target.composing||(t.replyContent=i.target.value)}}}),a("el-button",{staticClass:"fr submit-reply",attrs:{type:"info",size:"small"},on:{click:t.cancelReply}},[t._v("取消")]),a("el-button",{staticClass:"fr submit-reply",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.submitReply(i)}}},[t._v("提交")])],1):t._e()])}),0)])},s=[],n=(e("c5f6"),e("28a5"),e("1fed")),o={mixins:[n["a"]],data:function(){return{articleInfo:{},recommendList:[],commentList:[],recommendLeftList:[],recommendRightList:[],secondBread:"",comment:"",viewCount:"",commentCount:"",showAll:!1,articleType:"新闻资讯",idx:-1,replyContent:"",tagList:[],isup:!1}},methods:{toRelatedArticle:function(t){window.open(location.origin+"/"+this.$route.path.split("/")[1]+"/"+t)},getArticleInfo:function(t){var i=this;this.$axios.get(t).then(function(t){if(0===t.data.code){i.articleInfo=t.data.data;var e=i.articleInfo.tagValues.split(",");e.map(function(t){var e=t.split("|");i.tagList.push({tagId:e[0],tagValue:e[1]})})}})},getRecommendList:function(t){var i=this;this.$axios.get(t).then(function(t){if(0===t.data.code){var e=i.uniqeByKeys(t.data.data,["id"]);i.recommendList=e,i.recommendRightList=i.recommendList.splice(0,2),i.recommendLeftList=i.recommendList.splice(0,4)}})},getCommentList:function(t,i,e){var a=this;this.$axios.post(t,{actid:i,Infoid:i,page:e||1}).then(function(t){0===t.data.code&&(a.commentList=t.data.data)})},getData:function(t,i){var e,a,s,n;"news"===i&&(e="/recommend/getRecommendInformation/"+t)&&(a="/information/getInfoList/")&&(s="/information/update/count/"+t)&&(n="/information/getCommentCount/"+t)&&(this.articleType="新闻资讯"),"activity"===i&&(e="/recommend/getRecommendActivity/"+t)&&(a="/information/getActivityList/")&&(s="/activity/update/count/"+t)&&(n="/activity/getCommentCount/"+t)&&(this.articleType="活动"),this.getRecommendList(e,t),this.getCommentList(a,t),this.updateViewCount(s),this.getCommentCount(n)},getSecondBread:function(){var t=this.$route.path.split("/")[1];switch(t){case"news":this.secondBread="资讯";break;default:this.secondBread="活动"}},checkLoginState:function(){var t=this.$getCookie("uInfo"),i=JSON.parse(t);if(i&&i.token)return!0},publishReply:function(){var t,i=this,e=Number(this.$route.params.articleID),a=this.$route.path.split("/")[1],s=this.comment;switch(a){case"news":t=3;break;default:t=1}this.$axios.post("/comment/addComment/",{type:t,outid:e,comment:s,touserid:null,Commentid:null}).then(function(t){0===t.data.code&&(i.getData(i.$route.params.articleID,i.$route.path.split("/")[1]),i.comment="")})},obj2key:function(t,i){var e=i.length,a=[];while(e--)a.push(t[i[e]]);return a.join("|")},uniqeByKeys:function(t,i){for(var e=[],a={},s=0,n=t.length;s<n;s++){var o=this.obj2key(t[s],i);o in a||(a[o]=!0,e.push(t[s]))}return e},updateViewCount:function(t){var i=this;this.$axios.post(t).then(function(t){0===t.data.code&&(i.viewCount=t.data.data)})},getCommentCount:function(t){var i=this;this.$axios.get(t).then(function(t){0===t.data.code&&(i.commentCount=t.data.data)})},agreeComment:function(t){var i,e,a=this.$route.path.split("/")[1];"news"===a&&(i=t.infoid)&&(e=3),"activity"===a&&(i=t.actid)&&(e=1);var s=this.$getCookie("uInfo"),n=s?JSON.parse(s).loginName:"";this.$axios.post("/comment/addUp",{type:e,outid:i,id:t.id,isup:!0,UN:parseInt(n)}).then(function(t){})},agreeReply:function(t){var i,e,a=this.$route.path.split("/")[1];"news"===a&&(i=t.infoid)&&(e=4),"activity"===a&&(i=t.actid)&&(e=2);var s=this.$getCookie("uInfo"),n=s?JSON.parse(s).loginName:"";this.$axios.post("/comment/addUp",{type:e,outid:i,id:item.id,isup:!0,UN:parseInt(n),commentid:t.commentid}).then(function(t){})},reply:function(t){this.idx=t},cancelReply:function(){this.idx=-1,this.replyContent=""},submitReply:function(t){var i,e=this,a=Number(this.$route.params.articleID),s=this.$route.path.split("/")[1],n=this.replyContent,o=t.userid,c=t.id;switch(s){case"news":i=4;break;default:i=2}this.$axios.post("/comment/addComment/",{type:i,outid:a,comment:n,touserid:o,Commentid:c}).then(function(t){0===t.data.code&&(e.getData(e.$route.params.articleID,e.$route.path.split("/")[1]),e.replyContent="",e.idx=-1)})},toTagList:function(t){window.open(location.origin+"/tagList/"+t)}},mounted:function(){var t,i=this.$route.params.articleID,e=this.$route.path.split("/")[1];"news"===e&&(t="/information/"+i),"activity"===e&&(t="/activity/activity/"+i),this.getArticleInfo(t,i),this.getData(i,e),this.getSecondBread()},watch:{$route:function(t,i){var e,a=this.$route.params.articleID,s=this.$route.path.split("/")[1];"news"===s&&(e="/information/"+a),"activity"===s&&(e="/activity/activity/"+a),t.params.articleID&&this.getArticleInfo(e,a)&&this.getData(a,s)}}},c=o,r=(e("9ff8"),e("dd20"),e("2877")),l=Object(r["a"])(c,a,s,!1,null,"0f067ee6",null);i["default"]=l.exports},d991:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA6klEQVQ4jZ3RLUtEURDG8d+9CBYRo0EQv4HFpMliEqNNEASzX8Fs2GgwrB/B5Iptg5o0iWmbSYTVoODbXsOecDju3XvWScM88/xnzpyiammKfRzhARvox2LZaOcAM1jBbirmAOajvPgPYDbK+6nYBFhNpr5MAlhEO6n92WAqQNaxFKbNYRmbhseL4wzfIX/HYVG1nGInanrEwpjN4vgosZ0UO5lmGJSYTooXEwCeRx3xEj+ZgN4owCuuMwE3dd+Y+4xOHeA8w3yHbolejfg0xvyGPVQltnCCK3RDwwDHuA+gr1D/NDzyGm7hF40jLVXlI8JJAAAAAElFTkSuQmCC"},dd20:function(t,i,e){"use strict";var a=e("7642"),s=e.n(a);s.a},fdef:function(t,i){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);