webpackJsonp([6],{YT99:function(r,e){},sAeo:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={data:function(){return{loginOrRegister:!0,cartonIndex:0,loginForm:{account:"",accountType:"",password:""},registerForm:{phone:"",email:"",password:""},regForPhone:/^1[34578]\d{9}$/,regForEmail:/(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/,regForAccount:/(^1[34578]\d{9}$)|(^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$)/i,loginRules:{account:[{required:!0,message:"账号不可为空",trigger:"blur"},{pattern:this.regForAccount,trigger:"blur",message:"请正确输入您的手机号或者邮箱"}],password:[{required:!0,message:"密码不可为空",trigger:"blur"}]},registerRules:{phone:[{required:!0,message:"手机号不可为空",trigger:"blur"},{pattern:this.regForPhone,trigger:"blur",message:"请正确输入您的手机号"}],email:[{required:!0,message:"邮箱地址不可为空",trigger:"blur"},{pattern:this.regForEmail,trigger:"blur",message:"请正确输入您的Email"}],password:[{required:!0,message:"密码不可为空",trigger:"blur"}]}}},components:{},mounted:function(){},methods:{login:function(r){var e=this;console.log(e.loginForm.account,e.regForPhone.test(e.loginForm.account)),this.$refs[r].validate(function(r){if(!r)return console.log("error submit!!"),!1;e.loginForm.accountType=e.regForPhone.test(e.loginForm.account)?"phone":"email",console.log(e.loginForm),e.$axios.get("http://192.168.1.90:3000/users",e.loginForm).then(function(r){console.log(r)}).catch(function(r){console.log(r)})})},shifrCarton:function(r){var e=r.target.type;this.cartonIndex="text"==e?1:"password"==e?2:0},shiftSign:function(){this.loginOrRegister=!this.loginOrRegister},initCarton:function(){this.cartonIndex=0}}},s={render:function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("div",{staticClass:"sign"},[o("div",{staticClass:"sign-form"},[0==r.cartonIndex?o("img",{staticClass:"sign-carton",attrs:{src:t("q5Md")}}):1==r.cartonIndex?o("img",{staticClass:"sign-carton",attrs:{src:t("9UK0")}}):o("img",{staticClass:"sign-carton",attrs:{src:t("AWR0")}}),r._v(" "),1==r.loginOrRegister?o("div",[o("el-form",{ref:"loginForm",attrs:{model:r.loginForm,rules:r.loginRules,"status-icon":""}},[o("el-form-item",{attrs:{label:"手机号/邮箱",prop:"account"}},[o("el-input",{attrs:{placeholder:"请输入手机号或邮箱"},on:{focus:r.shifrCarton,blur:r.initCarton},model:{value:r.loginForm.account,callback:function(e){r.$set(r.loginForm,"account",e)},expression:"loginForm.account"}})],1),r._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{placeholder:"请输入您的密码",type:"password"},on:{focus:r.shifrCarton,blur:r.initCarton},model:{value:r.loginForm.password,callback:function(e){r.$set(r.loginForm,"password",e)},expression:"loginForm.password"}})],1),r._v(" "),o("el-form-item",[o("div",{staticClass:"sign-buttons ov"},[o("el-button",{staticClass:"sign-button",attrs:{type:"primary",size:"medium"},on:{click:function(e){return r.login("loginForm")}}},[r._v("登录")])],1)])],1),r._v(" "),o("div",{staticClass:"ov"},[o("span",{staticClass:"sign-shift hover-in-blue pointer fl",on:{click:r.shiftSign}},[r._v("没有账号，去注册")]),r._v(" "),o("router-link",{staticClass:"fr sign-forgetPWD hover-in-blue pointer",attrs:{to:"/reset-password",tag:"span"}},[r._v("忘记密码")])],1)],1):0==r.loginOrRegister?o("div",[o("el-form",{ref:"registerForm",attrs:{model:r.registerForm,rules:r.registerRules,"status-icon":""}},[o("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[o("el-input",{attrs:{placeholder:"请输入手机号"},on:{focus:r.shifrCarton,blur:r.initCarton},model:{value:r.registerForm.phone,callback:function(e){r.$set(r.registerForm,"phone",e)},expression:"registerForm.phone"}})],1),r._v(" "),o("el-form-item",{attrs:{label:"邮箱E-mail",prop:"email"}},[o("el-input",{attrs:{placeholder:"请输入邮箱"},on:{focus:r.shifrCarton,blur:r.initCarton},model:{value:r.registerForm.email,callback:function(e){r.$set(r.registerForm,"email",e)},expression:"registerForm.email"}})],1),r._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{placeholder:"请输入您的密码",type:"password"},on:{focus:r.shifrCarton,blur:r.initCarton},model:{value:r.registerForm.password,callback:function(e){r.$set(r.registerForm,"password",e)},expression:"registerForm.password"}})],1),r._v(" "),o("el-form-item",{attrs:{label:"确认密码",prop:"password"}},[o("el-input",{attrs:{placeholder:"请再次输入您的密码",type:"password"},on:{focus:r.shifrCarton,blur:r.initCarton},model:{value:r.registerForm.password,callback:function(e){r.$set(r.registerForm,"password",e)},expression:"registerForm.password"}})],1),r._v(" "),o("el-form-item",[o("div",{staticClass:"sign-buttons ov"},[o("el-button",{staticClass:"sign-button",attrs:{type:"primary",size:"medium"}},[r._v("注册")])],1)])],1),r._v(" "),o("div",{staticClass:"ov"},[o("span",{staticClass:"sign-shift hover-in-blue pointer fl",on:{click:r.shiftSign}},[r._v("已有账号，去登录")])])],1):r._e()])])},staticRenderFns:[]};var i=t("C7Lr")(o,s,!1,function(r){t("YT99")},"data-v-a0c7f116",null);e.default=i.exports}});