webpackJsonp([5],{"9SzF":function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("27Su"),o={data:function(){var r=this;return{cartonIndex:0,registerForm:{userName:"",phone:"",email:"",password:"",confirmPassword:""},regForPhone:/^1[34578]\d{9}$/,regForEmail:/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/,regForAccount:/(^1[34578]\d{9}$)|(^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$)/i,registerRules:{userName:[{required:!0,message:"用户名不阔以为空哦",trigger:"blur"}],phone:[{required:!0,validator:function(e,t,s){var o={phone:r.$refs.registerForm.model.phone};""===t?s(new Error("手机号不可为空")):r.regForPhone.test(t)?r.$axios.post("/api/users/checkUniquePhone",o).then(function(r){console.log(r.data),r.data.isExisits?s(new Error("该号码已存在")):s()}).catch(function(r){s(new Error("请重新输入手机号"))}):s(new Error("请正确输入您的手机号"))},trigger:"blur"},{pattern:/^1[34578]\d{9}$/,trigger:"blur",message:"请正确输入您的手机号"}],email:[{required:!0,message:"邮箱地址不可为空",trigger:"blur"},{required:!0,validator:function(e,t,s){var o={email:r.$refs.registerForm.model.email};""===t?s(new Error("邮箱不可为空哦")):r.regForEmail.test(t)?r.$axios.post("/api/users/checkUniqueEmail",o).then(function(r){console.log(r.data),r.data.isExisits?s(new Error("该邮箱已存在啦")):s()}).catch(function(r){s(new Error("请重新输入您的邮箱"))}):s(new Error("请正确输入您的Email"))},trigger:"blur"}],password:[{required:!0,message:"密码不可为空",trigger:"blur"}],confirmPassword:[{required:!0,message:"密码不可为空",trigger:"blur"},{validator:function(e,t,s){t!==r.$refs.registerForm.model.password?s(new Error("两次输入的密码不一致")):s()},trigger:"blur",required:!0}]}}},components:{},mounted:function(){},methods:{register:function(r){var e=this,t=this;this.$refs[r].validate(function(r){if(!r)return!1;t.$axios.post("/api/users/register",t.registerForm).then(function(r){console.log(r.data),r.data.length&&(s.a.SET(r.data),e.$router.push({path:"/",params:r.data}))}).catch(function(r){console.log(r)})})},shifrCarton:function(r){var e=r.target.type;this.cartonIndex="text"==e?1:"password"==e?2:0},initCarton:function(){this.cartonIndex=0}}},a={render:function(){var r=this,e=r.$createElement,s=r._self._c||e;return s("div",{staticClass:"sign"},[s("div",{staticClass:"sign-form"},[0==r.cartonIndex?s("img",{staticClass:"sign-carton",attrs:{src:t("q5Md")}}):1==r.cartonIndex?s("img",{staticClass:"sign-carton",attrs:{src:t("9UK0")}}):s("img",{staticClass:"sign-carton",attrs:{src:t("AWR0")}}),r._v(" "),s("div",[s("el-form",{ref:"registerForm",attrs:{model:r.registerForm,rules:r.registerRules,"status-icon":""}},[s("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[s("el-input",{attrs:{placeholder:"请来一个阔爱的用户名"},on:{focus:r.shifrCarton,blur:r.initCarton},model:{value:r.registerForm.userName,callback:function(e){r.$set(r.registerForm,"userName",e)},expression:"registerForm.userName"}})],1),r._v(" "),s("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[s("el-input",{attrs:{placeholder:"请输入手机号"},on:{focus:r.shifrCarton,blur:r.initCarton},model:{value:r.registerForm.phone,callback:function(e){r.$set(r.registerForm,"phone",e)},expression:"registerForm.phone"}})],1),r._v(" "),s("el-form-item",{attrs:{label:"邮箱E-mail",prop:"email"}},[s("el-input",{attrs:{placeholder:"请输入邮箱"},on:{focus:r.shifrCarton,blur:r.initCarton},model:{value:r.registerForm.email,callback:function(e){r.$set(r.registerForm,"email",e)},expression:"registerForm.email"}})],1),r._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{placeholder:"请输入您的密码",type:"password"},on:{focus:r.shifrCarton,blur:r.initCarton},model:{value:r.registerForm.password,callback:function(e){r.$set(r.registerForm,"password",e)},expression:"registerForm.password"}})],1),r._v(" "),s("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[s("el-input",{attrs:{placeholder:"请再次输入您的密码",type:"password"},on:{focus:r.shifrCarton,blur:r.initCarton},model:{value:r.registerForm.confirmPassword,callback:function(e){r.$set(r.registerForm,"confirmPassword",e)},expression:"registerForm.confirmPassword"}})],1),r._v(" "),s("el-form-item",[s("div",{staticClass:"sign-buttons ov"},[s("el-button",{staticClass:"sign-button",attrs:{type:"primary",size:"medium"},on:{click:function(e){return r.register("registerForm")}}},[r._v("注册")])],1)])],1),r._v(" "),s("div",{staticClass:"ov"},[s("router-link",{staticClass:"sign-shift hover-in-blue pointer fl",attrs:{to:"/login",tag:"span"}},[r._v("已有账号，去登录")])],1)],1)])])},staticRenderFns:[]};var i=t("C7Lr")(o,a,!1,function(r){t("zqI/")},"data-v-cb7be37c",null);e.default=i.exports},"zqI/":function(r,e){}});