webpackJsonp([7],{I9C3:function(t,o){},"rE+v":function(t,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=n("27Su"),a={data:function(){return{cartonIndex:0,loginForm:{account:"",accountType:"",password:""},regForPhone:/^1[34578]\d{9}$/,regForEmail:/(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/,regForAccount:/(^1[34578]\d{9}$)|(^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$)/i,loginRules:{account:[{required:!0,message:"账号不可为空",trigger:"blur"},{pattern:/(^1[34578]\d{9}$)|(^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$)/i,trigger:"blur",message:"请正确输入您的手机号或者邮箱"}],password:[{required:!0,message:"密码不可为空",trigger:"blur"}]}}},created:function(){var t=this;document.onkeydown=function(o){13==window.event.keyCode&&t.login("loginForm")}},components:{},mounted:function(){},methods:{login:function(t){var o=this,n=this;this.$refs[t].validate(function(t){if(!t)return!1;n.loginForm.accountType=n.regForPhone.test(n.loginForm.account)?"phone":"email",console.log(n.loginForm),n.$axios.post("/api/users/login",n.loginForm).then(function(t){t.data.length&&(r.a.SET(t.data),o.$router.push({path:"/",params:t.data}))}).catch(function(t){console.log(t)})})},shifrCarton:function(t){var o=t.target.type;this.cartonIndex="text"==o?1:"password"==o?2:0},initCarton:function(){this.cartonIndex=0}}},s={render:function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{staticClass:"sign"},[r("div",{staticClass:"sign-form"},[0==t.cartonIndex?r("img",{staticClass:"sign-carton",attrs:{src:n("q5Md")}}):1==t.cartonIndex?r("img",{staticClass:"sign-carton",attrs:{src:n("9UK0")}}):r("img",{staticClass:"sign-carton",attrs:{src:n("AWR0")}}),t._v(" "),r("div",[r("el-form",{ref:"loginForm",attrs:{model:t.loginForm,rules:t.loginRules,"status-icon":""}},[r("el-form-item",{attrs:{label:"手机号/邮箱",prop:"account"}},[r("el-input",{attrs:{placeholder:"请输入手机号或邮箱"},on:{focus:t.shifrCarton,blur:t.initCarton},model:{value:t.loginForm.account,callback:function(o){t.$set(t.loginForm,"account",o)},expression:"loginForm.account"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{placeholder:"请输入您的密码",type:"password"},on:{focus:t.shifrCarton,blur:t.initCarton},model:{value:t.loginForm.password,callback:function(o){t.$set(t.loginForm,"password",o)},expression:"loginForm.password"}})],1),t._v(" "),r("el-form-item",[r("div",{staticClass:"sign-buttons ov"},[r("el-button",{staticClass:"sign-button",attrs:{type:"primary",size:"medium"},on:{click:function(o){return t.login("loginForm")}}},[t._v("登录")])],1)])],1),t._v(" "),r("div",{staticClass:"ov"},[r("router-link",{staticClass:"sign-shift hover-in-blue pointer fl",attrs:{to:"/register",tag:"span"}},[t._v("没有账号，去注册")]),t._v(" "),r("router-link",{staticClass:"fr sign-forgetPWD hover-in-blue pointer",attrs:{to:"/reset-password",tag:"span"}},[t._v("忘记密码")])],1)],1)])])},staticRenderFns:[]};var e=n("C7Lr")(a,s,!1,function(t){n("I9C3")},"data-v-7878084c",null);o.default=e.exports}});